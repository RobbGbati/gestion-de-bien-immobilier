<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<title>Consulter mes biens</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/css/custom.css}" />
</head>
<body>
 <header th:insert="header.html::header"></header>
 
 <!--  -->
 <div class="container bg-white foot" style="margin-top:30px;">
	<h1>Consulter mes biens, mes achats et mes locations</h1>
	<br />
	<table class="table table-striped table-bordered" th:if="${mesBiens.size() gt 0}">
	<caption style="color: #003668;"><i>Liste de mes biens</i></caption>
		<thead class="text-white immo">
			<tr>
				<th scope="col">#</th>
				<th scope="col">Bien</th>
				<th scope="col">Statut</th>
				<th scope="col">Ville</th>
				<th scope="col">Date d'ajout</th>
				<th scope="col">Montant (DH)</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>
		<!-- les biens de l'utilisateur -->
			<tr th:each="mBien: ${mesBiens}">
				<th scope="row" th:text="${mBien.getId()}"></th>
				<td th:text="${mBien.getType_bien()}"></td>
				<td class="font-weight-bold" th:text="${mBien.getStatus()}"></td>
				<td th:text="${mBien.getVille()}"></td>
				<td class="font-weight-bold" th:text="${mBien.getDate_ajout()}"></td>
				<td th:text="${mBien.getMontant()}"></td>
				<td><a class="btn btn-success font-weight-bold" style="text-decoration: none;" th:href="@{'biens/'+${mBien.id}+'/voir-mon-bien'}">Voir</a></td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th colspan="5">Valeur totale</th>
				<td class="font-weight-bold" style="color:#003668;" th:text="${som1}"></td>
			</tr>
		</tfoot>
	</table>
	<hr class="immo" style="height: 3px;"/>
	
	<!-- liste de mes achats et locations -->
	<table class="table table-striped table-bordered" th:if="${mesAchatsLocations.size() gt 0}">
	<caption style="color: #003668;"><i>Liste des biens achetés ou loués</i></caption>
		<thead class="text-white immo">
			<tr>
				<th scope="col">#</th>
				<th scope="col">Bien</th>
				<th scope="col">Statut</th>
				<th scope="col">Ville</th>
				<th scope="col">Date d'ajout</th>
				<th scope="col">Montant (DH)</th>
				<th scope="col">Action</th>
			</tr>
		</thead>
		<tbody>
			<!-- les biens achetés ou loués de l'utilisateur -->
			<tr th:each="mAchat: ${mesAchatsLocations}">
				<th scope="row" th:text="${mAchat.getId()}"></th>
				<td th:text="${mAchat.getBienAcheteLocation().getType_bien()}"></td>
				<td class="font-weight-bold" th:text="${mAchat.getBienAcheteLocation().getStatus()}"></td>
				<td th:text="${mAchat.getBienAcheteLocation().getVille()}"></td>
				<td class="font-weight-bold" th:text="${mAchat.getDateAchatLocation()}"></td>
				<td th:text="${mAchat.getBienAcheteLocation().getMontant()}"></td>
				<td><a class="btn btn-success font-weight-bold" style="text-decoration: none;" th:href="@{'biens/'+${mAchat.getBienAcheteLocation().id}+'/voir+'}">Voir</a></td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th colspan="5">Valeur totale</th>
				<td class="font-weight-bold" style="color:#003668;" th:text="${som2}"></td>
			</tr>
		</tfoot>
	</table>
 
 </div>
<footer th:insert="footer.html::footer"></footer>
<script th:src="@{/js/jquery-3.4.1.slim.min.js}" ></script>
<script th:src="@{/js/bootstrap.min.js}" ></script>
</body>
</html>